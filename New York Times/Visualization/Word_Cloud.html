<!DOCTYPE html>
<html>
<script src="http://d3js.org/d3.v3.min.js"></script>
<script src="d3.layout.cloud.js"></script>
<head>
    <title>Word Cloud Example</title>
</head>
<style>
    body {
        font-family:"Lucida Grande","Droid Sans",Arial,Helvetica,sans-serif;
    }
    .legend {
        border: 1px solid #555555;
        border-radius: 5px 5px 5px 5px;
        font-size: 0.8em;
        margin: 10px;
        padding: 8px;
    }
    .bld {
        font-weight: bold;
    }
</style>
<body>

</body>
<script>

    var frequency_list = [{'text': 'year', 'size': 52.812697609889142}, {'text': 'state', 'size': 52.299170309446346}, {'text': 'american', 'size': 51.492128509670515}, {'text': 'unit', 'size': 43.46441321542688}, {'text': 'new', 'size': 42.684685244452375}, {'text': 'said', 'size': 40.983673620248368}, {'text': 'intern', 'size': 40.472126632900618}, {'text': 'govern', 'size': 40.359844888226782}, {'text': 'unit state', 'size': 39.277030599484227}, {'text': 'presid', 'size': 38.692658434958389}, {'text': 'polit', 'size': 38.295361549348513}, {'text': 'nation', 'size': 38.236418797845168}, {'text': 'refuge', 'size': 36.207651009539049}, {'text': 'peopl', 'size': 34.978051902941459}, {'text': 'elect', 'size': 34.817425018485821}, {'text': 'countri', 'size': 33.810622571142332}, {'text': 'world', 'size': 33.715296840486573}, {'text': 'lead', 'size': 32.958290853853555}, {'text': 'say', 'size': 32.76106070258092}, {'text': 'today', 'size': 32.690994793757589}, {'text': 'hous', 'size': 29.454028772496958}, {'text': 'day', 'size': 29.448344774458363}, {'text': 'israel', 'size': 28.894784005896028}, {'text': 'offici', 'size': 28.27068373315225}, {'text': 'time', 'size': 27.252737770096452}, {'text': 'foreign', 'size': 26.806500083354805}, {'text': 'week', 'size': 26.073442272537008}, {'text': 'editor', 'size': 26.014999326019719}, {'text': 'like', 'size': 25.832431678278923}, {'text': 'bush', 'size': 25.684290310290969}, {'text': 'mani', 'size': 25.623290138215182}, {'text': 'jew', 'size': 25.50947342675007}, {'text': 'right', 'size': 25.489446795086199}, {'text': 'war', 'size': 24.702881849005866}, {'text': 'work', 'size': 24.574877835102409}, {'text': 'old', 'size': 24.300953671358293}, {'text': 'parti', 'size': 24.210805206961709}, {'text': 'home', 'size': 24.144740593370944}, {'text': 'photo', 'size': 23.932165701832481}, {'text': 'news', 'size': 23.790926059196455}, {'text': 'school', 'size': 23.729659884339757}, {'text': 'relat', 'size': 23.581574356912679}, {'text': 'palestinian', 'size': 23.432178253744468}, {'text': 'clinton', 'size': 23.399576623335872}, {'text': 'live', 'size': 22.784643068041952}, {'text': 'isra', 'size': 22.732478723815674}, {'text': 'trade', 'size': 22.595057541341966}, {'text': 'citi', 'size': 22.383592998393947}, {'text': 'econom', 'size': 22.138886505332703}, {'text': 'republican', 'size': 22.098530711137848}, {'text': 'leader', 'size': 22.064297519058016}, {'text': 'month', 'size': 22.036230185121219}, {'text': 'secur', 'size': 21.874411389032662}, {'text': 'group', 'size': 21.677849712488417}, {'text': 'famili', 'size': 21.362985210361146}, {'text': 'emigr', 'size': 21.251238432495654}, {'text': 'america', 'size': 21.233688044427591}, {'text': 'soviet', 'size': 21.160587784188852}, {'text': 'center', 'size': 21.01239394157891}, {'text': 'plan', 'size': 20.932470240794483}, {'text': 'terror', 'size': 20.931112359943246}, {'text': 'law', 'size': 20.890383268186998}, {'text': 'immigr refuge', 'size': 20.876175467541422}, {'text': 'make', 'size': 20.868132381670232}, {'text': 'articl', 'size': 20.650161275263887}, {'text': 'attack', 'size': 20.456306437582924}, {'text': 'student', 'size': 20.014136360442997}, {'text': 'feder', 'size': 19.99665534893423}, {'text': 'issu', 'size': 19.97516305674533}, {'text': 'children', 'size': 19.858064177043811}, {'text': 'travel', 'size': 19.826367901548295}, {'text': 'long', 'size': 19.511718975599671}, {'text': 'popul', 'size': 19.360709681894246}, {'text': 'labor', 'size': 19.32163697534908}, {'text': 'white', 'size': 19.102747743781585}, {'text': 'million', 'size': 19.087798575093462}, {'text': 'union', 'size': 19.027580348156878}, {'text': 'ago', 'size': 18.824061054286041}, {'text': 'offic', 'size': 18.711460687570778}, {'text': 'europ', 'size': 18.660399895802399}, {'text': 'polic', 'size': 18.576508336866503}, {'text': 'street', 'size': 18.287724004777736}, {'text': 'aid', 'size': 18.106025780236635}, {'text': 'european', 'size': 17.960457718743303}, {'text': 'man', 'size': 17.951770655571927}, {'text': 'report', 'size': 17.856488141933418}, {'text': 'social', 'size': 17.812786225092239}, {'text': 'use', 'size': 17.787649723672398}, {'text': 'way', 'size': 17.667161047990795}, {'text': 'democrat', 'size': 17.525616138233822}, {'text': 'vote', 'size': 17.49039014229534}, {'text': 'public', 'size': 17.485258737567197}, {'text': 'recent', 'size': 17.427345272408793}, {'text': 'senat', 'size': 17.423449768050403}, {'text': 'bomb', 'size': 17.310592074960997}, {'text': 'end', 'size': 17.238251775663883}, {'text': 'east', 'size': 17.23636974430439}, {'text': 'black', 'size': 17.039225891086858}, {'text': 'china', 'size': 17.023926214948364}, {'text': 'airport', 'size': 16.889410238005333}, {'text': 'polici', 'size': 16.880275515049071}, {'text': 'open', 'size': 16.859818959661101}, {'text': 'minist', 'size': 16.798600027163815}, {'text': 'face', 'size': 16.782092923763781}, {'text': 'sinc', 'size': 16.77476004678536}, {'text': 'administr', 'size': 16.759780623254844}, {'text': 'book', 'size': 16.720947080180988}, {'text': 'intern relat', 'size': 16.599535445255764}, {'text': 'inform', 'size': 16.55632433886683}, {'text': 'high', 'size': 16.518312685133232}, {'text': 'job', 'size': 16.46192058354044}, {'text': 'life', 'size': 16.443994452556524}, {'text': 'south', 'size': 16.426471792310682}, {'text': 'come', 'size': 16.375332026809243}, {'text': 'island', 'size': 16.251368532447714}, {'text': 'haitian', 'size': 16.165755071219515}, {'text': 'die', 'size': 15.965064800387104}, {'text': 'campaign', 'size': 15.952750555147471}, {'text': 'forc', 'size': 15.808098908180447}, {'text': 'year old', 'size': 15.803108394983704}, {'text': 'build', 'size': 15.776780815059498}, {'text': 'chang', 'size': 15.734813607919513}, {'text': 'presidenti', 'size': 15.724791436747518}, {'text': 'member', 'size': 15.637216240395723}, {'text': 'condit', 'size': 15.603917208094803}, {'text': 'immigr emigr', 'size': 15.529328074101411}, {'text': 'page', 'size': 15.499973957020764}, {'text': 'help', 'size': 15.397954484312693}, {'text': 'worker', 'size': 15.323417604726645}, {'text': 'kill', 'size': 15.22170779092264}, {'text': 'north', 'size': 15.216034297166422}, {'text': 'near', 'size': 15.194931052577852}, {'text': 'court', 'size': 15.1713739579244}, {'text': 'germani', 'size': 15.117615542300886}, {'text': 'trend', 'size': 15.08082840757773}, {'text': 'becom', 'size': 15.046031292687445}, {'text': 'number', 'size': 14.960185146160342}, {'text': 'busi', 'size': 14.931586167335391}, {'text': 'women', 'size': 14.881810073050987}, {'text': 'german', 'size': 14.86883191801746}, {'text': 'mexico', 'size': 14.863143321276732}, {'text': 'hispan', 'size': 14.814853076183633}, {'text': 'look', 'size': 14.76530373207151}, {'text': 'place', 'size': 14.720886253361989}, {'text': 'english', 'size': 14.611252556135005}, {'text': 'charg', 'size': 14.524886169109633}, {'text': 'militari', 'size': 14.508037501089339}, {'text': 'chines', 'size': 14.462433668182561}, {'text': 'power', 'size': 14.355382453006944}, {'text': 'franc', 'size': 14.351422539558715}, {'text': 'french', 'size': 14.327821011608764}, {'text': 'jewish', 'size': 14.314754567516896}, {'text': 'polit govern', 'size': 14.299902640871604}, {'text': 'west', 'size': 14.279001784859926}, {'text': 'includ', 'size': 14.199092920441228}, {'text': 'percent', 'size': 14.172973330511384}, {'text': 'depart', 'size': 14.154580753387044}, {'text': 'support', 'size': 14.15317225122913}, {'text': 'men', 'size': 14.151289880198888}, {'text': 'talk', 'size': 14.142371345687016}, {'text': 'tri', 'size': 14.09341735003887}, {'text': 'arriv', 'size': 13.972544028363201}, {'text': 'languag', 'size': 13.971740436849142}, {'text': 'town', 'size': 13.915719787378084}, {'text': 'return', 'size': 13.877711223320206}, {'text': 'educ', 'size': 13.864861538079939}, {'text': 'condit trend', 'size': 13.732770026983165}, {'text': 'major', 'size': 13.696636640193473}, {'text': 'author', 'size': 13.565001830395447}, {'text': 'congress', 'size': 13.521709478163517}, {'text': 'increas', 'size': 13.476138548866214}, {'text': 'washington', 'size': 13.45220722356912}, {'text': 'meet', 'size': 13.341573892566812}, {'text': 'univers', 'size': 13.319447423311084}, {'text': 'terrorist', 'size': 13.309670367671497}, {'text': 'set', 'size': 13.30943769342878}, {'text': 'want', 'size': 13.304466919102476}, {'text': 'hong', 'size': 13.282665652271522}, {'text': 'prime', 'size': 13.264951819523633}, {'text': 'turn', 'size': 13.257570921550265}, {'text': 'kong', 'size': 13.254692598323565}, {'text': 'histori', 'size': 13.253177525896344}, {'text': 'health', 'size': 13.208848833184273}, {'text': 'program', 'size': 13.201808551243118}, {'text': 'hong kong', 'size': 13.192462851905645}, {'text': 'free', 'size': 13.142511358287013}, {'text': 'effort', 'size': 13.122927459044995}, {'text': 'iraq', 'size': 13.117945639166745}, {'text': 'left', 'size': 13.11304285225399}, {'text': 'investig', 'size': 13.102003608643571}, {'text': 'death', 'size': 13.028169496615259}, {'text': 'budget', 'size': 13.009287854004606}, {'text': 'arab', 'size': 12.987861758862609}, {'text': 'cultur', 'size': 12.974552632233371}, {'text': 'review', 'size': 12.954443533413887}, {'text': 'term', 'size': 12.951358354982668}, {'text': 'run', 'size': 12.86075914013731}, {'text': 'market', 'size': 12.80711556352855}, {'text': 'year ago', 'size': 12.747609957042179}];


    var color = d3.scale.linear()
            // .domain([0,1,2,3,4,5,6,10,15,20,100])
            .domain([0,10,20,30,40,50,60,70,80,90,100])
            // .range(["#ddd", "#ccc", "#bbb", "#aaa", "#999", "#888", "#777", "#666", "#555", "#444", "#333", "#222"]);
            .range(['#222', '#333', '#444', '#555', '#666', '#777', '#888', '#999', '#aaa', '#bbb', '#ccc', '#ddd']);


    d3.layout.cloud().size([800, 300])
            .words(frequency_list)
            .rotate(0)
            .fontSize(function(d) { return d.size; })
            .on("end", draw)
            .start();

    function draw(words) {
        d3.select("body").append("svg")
                .attr("width", 850)
                .attr("height", 350)
                .attr("class", "wordcloud")
                .append("g")
                // without the transform, words words would get cutoff to the left and top, they would
                // appear outside of the SVG area
                .attr("transform", "translate(320,200)")
                .selectAll("text")
                .data(words)
                .enter().append("text")
                .style("font-size", function(d) { return d.size + "px"; })
                .style("fill", function(d, i) { return color(i); })
                .attr("transform", function(d) {
                    return "translate(" + [d.x, d.y] + ")rotate(" + d.rotate + ")";
                })
                .text(function(d) { return d.text; });
    }
</script>

<div style="width: 40%;">
    <div class="legend">
        More important words are larger and darker.  Less important words are smaller and slightly faded in color.
    </div>

</div>

